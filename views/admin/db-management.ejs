<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Database Management</title>
  <link rel="stylesheet" href="/css/mineaid-styles.css">
  <link rel="shortcut icon" href="favicon.png" type="image/x-icon"><!-- Link to your stylesheets -->
</head>

<body class="db-management">
<header>
    <%- include('../partials/_nav') %>
</header>
<section class="prim-header">
    <div class="container">
        <h1>Database Management</h1>
    </div>
</section>

  <main>
      <div class="container">
        <div class="alert-parent">
            <div class="backup-restore">
                <!-- Backup and Restore Card -->
                <div class="">
                  <h2>Backup and Restore</h2>
                  <div class="card import-export">
                      <form action="/download-db" method="get">
                        <button class="btn" type="submit">Download Backup</button>
                      </form>
                      <form action="/upload-db" method="post" enctype="multipart/form-data">
                        <div class="input-grp">
                            <input type="file" name="backup" required>
                            <button class="btn" type="submit">Upload Backup</button>
                        </div>
                      </form>
                  </div>
                <div class="grid-2">
                    </div>
                    <!-- Migration Card -->
                    <div class="card">
                      <h2>Database Migration</h2>
                      <div class="btn-grp h-flex">
                          <form action="/migrate-db" method="post">
                            <button class="btn" type="submit">Migrate to PostgreSQL</button>
                          </form>
                      </div>
                    </div>
                    <!-- CSV Export/Import Card -->
                    <div class="card">
                      <h2>Data Export/Import</h2>
                      <div class="btn-grp h-flex">
                          <div class="import-export">
                              <form action="/export-csv" method="post">
                                <button class="btn btn-outline" type="submit">Export CSV</button>
                              </form>
                              <form action="/import-csv" method="post" enctype="multipart/form-data">
                                <div class="btn-grp input-grp">
                                    <input type="file" name="csvFile" required>
                                    <button class="btn" type="submit">Import CSV</button>
                                </div>
                              </form>
                          </div>
                      </div>
                    </div>
                </div>
                <!-- Maintenance Card -->
                <div class="card">
                    <h2>Database Maintenance</h2>
                    <div class="btn-grp h-flex">
                        <form action="/clear-old-data" method="post">
                            <button class="btn" type="submit">Clear Old Data</button>
                        </form>
                        <form action="/optimize-db" method="post">
                            <button class="btn" type="submit">Optimize Database</button>
                        </form>
                    </div>
                </div>
                <!-- Health Check Card -->
                <div class="card">
                  <h2>Database Health Check</h2>
                  <div class="btn-grp h-flex">
                      <div class="btn-grp">
                          <form action="/db-health" method="get">
                            <button class="btn" type="submit">Run Health Check</button>
                          </form>
                      </div>
                  </div>
                </div>
                <!-- Schedule Backup Card -->
                <div class="card">
                  <h2>Schedule Backup</h2>
                  <div class="input-grp btn-grp h-flex">
                      <form action="/schedule-backup" method="post">
                        <input type="text" name="cronExpression" placeholder="Cron Expression (e.g., 0 0 * * *)" required>
                        <button class="btn" type="submit">Set Backup Schedule</button>
                      </form>
                  </div>
                </div>
                <section class=" grid-container ">
                    <!-- Logs Card -->
                    <div class="card">
                      <h2>Security and Logs</h2>
                      <div class="btn-grp h-flex">
                          <form action="/view-logs" method="get">
                            <button class="btn" type="submit">View Logs</button>
                          </form>
                      </div>
                    </div>
                    <!-- Support Card -->
                    <div class="card">
                        <h3>Resources & Support</h3>
                        <p>If you need assistance, check out our <a class="accent" href="/support">Support Page</a> or contact us directly.</p>
                    </div>
                </section>
            </div>
        </div>
      </div>
  </main>

  <!-- Include footer partial -->
  <%- include('../partials/_footer') %>
</body>
</html>
